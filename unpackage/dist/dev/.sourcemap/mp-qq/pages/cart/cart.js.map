{"version":3,"sources":["webpack:////Users/yi/Downloads/canglu/litemall-master/Newshop_Mnpro/pages/cart/cart.vue?037e","webpack:////Users/yi/Downloads/canglu/litemall-master/Newshop_Mnpro/pages/cart/cart.vue?de02","webpack:////Users/yi/Downloads/canglu/litemall-master/Newshop_Mnpro/pages/cart/cart.vue?bcb3","webpack:////Users/yi/Downloads/canglu/litemall-master/Newshop_Mnpro/pages/cart/cart.vue?f89d","webpack:////Users/yi/Downloads/canglu/litemall-master/Newshop_Mnpro/pages/cart/cart.vue","webpack:////Users/yi/Downloads/canglu/litemall-master/Newshop_Mnpro/pages/cart/cart.vue?73b6","webpack:////Users/yi/Downloads/canglu/litemall-master/Newshop_Mnpro/pages/cart/cart.vue?010d"],"names":["components","uniNumberBox","data","total","allChecked","empty","cartList","haslogin","cartTotal","goodsList","agentId","onLoad","loadData","loadtopData","onPullDownRefresh","computed","methods","navToDetailPage","id","uni","navigateTo","url","getUserInfo","that","login","provider","success","loginRes","showLoading","title","code","lang","infoRes","userInfo","options","setTimeout","hideLoading","gologin","fail","getStorageSync","loginurl","api","httppost","then","res","errno","setStorageSync","token","catch","err","showToast","errmsg","icon","flag","carturl","httpget","respons","forEach","item","checked","stopPullDownRefresh","homeurl","resp","hotGoodsList","onImageLoad","key","index","$set","onImageError","image","navToLogin","check","type","arr","isChecked","productIds","productId","list","push","calcTotal","checkedurl","numberChange","updateurl","goodsId","number","deleteCartItem","deletepro","deleteurl","clearCart","showModal","content","e","confirm","length","price","Number","toFixed","cutNumber","addNumber","createOrder","checkedGoodsAmount"],"mappings":"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","file":"pages/cart/cart.js","sourcesContent":["import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=f73a6076&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('f73a6076', component.options)\n    } else {\n      api.reload('f73a6076', component.options)\n    }\n    module.hot.accept(\"./cart.vue?vue&type=template&id=f73a6076&\", function () {\n      api.rerender('f73a6076', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/yi/Downloads/canglu/litemall-master/Newshop_Mnpro/pages/cart/cart.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=template&id=f73a6076&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tmapState, mapMutations\n} from 'vuex';\nimport api from '@/common/vmeitime-http/'\nimport uniNumberBox from '@/components/uni-number-box.vue'\nexport default {\n\tcomponents: {\n\t\tuniNumberBox\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttotal: 0, //总价格\n\t\t\tallChecked: true, //全选状态  true|false\n\t\t\tempty: false, //空白页现实  true|false\n\t\t\tcartList: [],\n\t\t\thaslogin: false,\n\t\t\tcartTotal: {},\n\t\t\tgoodsList: [],\n\t\t\tagentId: 7813\n\t\t}\n\t},\n\tonLoad(){\n\t\tthis.loadData();\n\t\tthis.loadtopData()\n\t},\n\tonPullDownRefresh() {\n\t\tthis.loadData(true);\n\t\tthis.loadtopData()\n\t},\n\tcomputed:{\n\t\t...mapState(['hasLogin'])\n\t},\n\tmethods: {\n\t\t...mapMutations(['login']),\n\t\t//详情页\n\t\tnavToDetailPage(id) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/product/product?id=${id}`\n\t\t\t})\n\t\t},\n\t\tgetUserInfo: function() {\n\t\t\tlet that = this;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\tuni.login({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\tuni.showLoading({title: '正在登录'})\n\t\t\t\t\tlet code = loginRes.code;\n\t\t\t\t\t// 获取用户信息\n\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\t\tlang:'zh_CN',\n\t\t\t\t\t\tsuccess: function(infoRes) {\n\t\t\t\t\t\t\tlet userInfo = infoRes.userInfo;\n\t\t\t\t\t\t\tvar options = {\n\t\t\t\t\t\t\t\tcode: code,\n\t\t\t\t\t\t\t\tuserInfo: userInfo\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\tthat.login(userInfo)\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\tthat.gologin(options)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function() {\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: '/pages/public/login'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail: function(loginRes) {\n\t\t\t\t\tif (uni.getStorageSync('haslogin') == '') {\n\t\t\t\t\t\tthat.haslogin = false\n\t\t\t\t\t}\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '/pages/public/login'\n\t\t\t\t\t})\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t}\n\t\t\t})\n\n\t\t},\n\t\tgologin(options, data) {\n\t\t\tlet that = this;\n\t\t\tlet loginurl = '/auth/login_by_weixin';\n\t\t\tapi.httppost(loginurl, options).then((res) => {\n\t\t\t\tif (res.data.errno == 0) {\n\t\t\t\t\tthat.haslogin = true\n\t\t\t\t\tuni.setStorageSync('token', res.data.data.token);\n\t\t\t\t\tuni.setStorageSync('haslogin', true);\n\t\t\t\t\tthat.loadData()\n\t\t\t\t}\n\t\t\t\tuni.hideLoading()\n\t\t\t}).catch((err) => {\n\t\t\t\tuni.showToast({title: res.data.errmsg, icon: 'none'})\n\t\t\t\tuni.hideLoading()\n\t\t\t})\n\t\t},\n\t\t//请求数据\n\t\tasync loadData(flag){\n\t\t\tuni.showLoading({title: '正在加载'})\n\t\t\tlet carturl = '/cart/index'\n\t\t\tapi.httpget(carturl).then((res) => {\n\t\t\t\tlet respons = res.data;\n\t\t\t\tif(respons.errno == 0) {\n\t\t\t\t\tthis.cartList = respons.data.cartList\n\t\t\t\t\tthis.cartTotal = respons.data.cartTotal\n\t\t\t\t\tthis.cartList.forEach(item=>{\n\t\t\t\t\t\tif(!item.checked)  this.allChecked = false\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({title: respons.errmsg, icon: 'none'})\n\t\t\t\t}\n\t\t\t\tif(flag) uni.stopPullDownRefresh();\n\t\t\t\tuni.hideLoading()\n\t\t\t}).catch((err) => {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tif(flag) uni.stopPullDownRefresh();\n\t\t\t})\n\t\t},\n\t\tasync loadtopData(flag) {\n\t\t\tuni.showLoading({title: '正在加载'})\n\t\t\tlet homeurl = '/home/index';\n\t\t\tapi.httpget(homeurl).then((res) => {\n\t\t\t\tlet respons = res.data;\n\t\t\t\tlet resp = respons.data;\n\t\t\t\tif(respons.errno == 0) {\n\t\t\t\t\tthis.goodsList = resp.hotGoodsList;\n\t\t\t\t\tuni.setStorageSync('goodsList', this.goodsList)\n\t\t\t\t}\n\t\t\t\tif(flag) uni.stopPullDownRefresh()\n\t\t\t\tuni.hideLoading()\n\t\t\t}).catch((err) => {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tif(flag) uni.stopPullDownRefresh()\n\t\t\t})\n\t\t},\n\t\t//监听image加载完成\n\t\tonImageLoad(key, index) {\n\t\t\tthis.$set(this[key][index], 'loaded', 'loaded');\n\t\t},\n\t\t//监听image加载失败\n\t\tonImageError(key, index) {\n\t\t\tthis[key][index].image = '/static/errorImage.jpg';\n\t\t},\n\t\tnavToLogin(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/public/login'\n\t\t\t})\n\t\t},\n\t\t //选中状态处理\n\t\tcheck(type, index,item){\n\t\t\tlet arr = []\n\t\t\tlet data = {}\n\t\t\tif(type === 'item'){\n\t\t\t\tthis.cartList[index].checked = !this.cartList[index].checked;\n\t\t\t\tdata = {isChecked: item.checked?1:0, productIds: [item.productId] }\n\t\t\t} else {\n\t\t\t\tconst checked = !this.allChecked\n\t\t\t\tconst list = this.cartList;\n\t\t\t\tlist.forEach(item=>{\n\t\t\t\t\titem.checked = checked;\n\t\t\t\t\tarr.push(item.productId)\n\t\t\t\t})\n\t\t\t\tthis.allChecked = checked;\n\t\t\t\tdata.productIds = arr\n\t\t\t\tdata = {isChecked: this.allChecked?1:0, productIds: arr}\n\t\t\t}\n\t\t\tthis.calcTotal()\n\t\t\tlet checkedurl = '/cart/checked';\n\t\t\tapi.httppost(checkedurl, data).then((res) => {\n\t\t\t\tlet respons = res.data;\n\t\t\t\tif(respons.errno == 0) {\n\t\t\t\t\tthis.loadData()\n\t\t\t\t}\n\t\t\t\tuni.hideLoading()\n\t\t\t}).catch((err) => {\n\t\t\t\tuni.hideLoading()\n\t\t\t})\n\t\t},\n\t\t//数量\n\t\tnumberChange(item,data){\n\t\t\tuni.showLoading({title: '正在加载'})\n\t\t\tlet updateurl = '/cart/update';\n\t\t\tapi.httppost(updateurl,{goodsId: item.goodsId, id:item.id, number: item.number, productId: item.productId}).then((res) => {\n\t\t\t\tlet respons = res.data;\n\t\t\t\tif(respons.errno == 0) {\n\t\t\t\t\tthis.loadData()\n\t\t\t\t}\n\t\t\t\tuni.hideLoading()\n\t\t\t}).catch((err) => {\n\t\t\t\tuni.hideLoading()\n\t\t\t})\n\t\t},\n\t\t//删除\n\t\tdeleteCartItem(id){\n\t\t\tthis.deletepro([id])\n\t\t},\n\t\tdeletepro (arr) {\n\t\t\tuni.showLoading({title: '正在加载'})\n\t\t\tlet deleteurl = '/cart/delete';\n\t\t\tapi.httppost(deleteurl,{productIds: arr}).then((res) => {\n\t\t\t\tlet respons = res.data;\n\t\t\t\tif(respons.errno == 0) {\n\t\t\t\t\tthis.cartList = respons.data.cartList;\n\t\t\t\t}\n\t\t\t\tuni.hideLoading()\n\t\t\t}).catch((err) => {\n\t\t\t\tuni.hideLoading()\n\t\t\t})\n\t\t},\n\t\t//清空\n\t\tclearCart(){\n\t\t\tlet arr = []\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '清空购物车？',\n\t\t\t\tsuccess: (e)=>{\n\t\t\t\t\tif(e.confirm){\n\t\t\t\t\t\tthis.cartList.forEach(item => {\n\t\t\t\t\t\t\tarr.push(item.id)\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.deletepro(arr);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//计算总价\n\t\tcalcTotal(){\n\t\t\tlet list = this.cartList;\n\t\t\tif(list.length === 0){\n\t\t\t\tthis.empty = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet total = 0;\n\t\t\tlet checked = true;\n\t\t\tlist.forEach(item=>{\n\t\t\t\tif(item.checked === true){\n\t\t\t\t\ttotal += item.price * item.number;\n\t\t\t\t}else if(checked === true){\n\t\t\t\t\tchecked = false;\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.allChecked = checked;\n\t\t\tthis.total = Number(total.toFixed(2));\n\t\t},\n\t\tcutNumber: function(item) {\n\t\t  item.number = (item.number - 1 > 1) ? item.number - 1 : 1\n\t\t  this.numberChange(item)\n\t    },\n\t\t  addNumber: function(item) {\n\t\t\t  item.number = item.number + 1\n\t\t\t  this.numberChange(item)\n\t\t  },\n\t\t//创建订单\n\t\tcreateOrder(){\n\t\t\tif (this.cartTotal.checkedGoodsAmount <= 0) return false;\n\t\t\tuni.setStorageSync('cartId', 0)\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/order/createOrder`\n\t\t\t})\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}