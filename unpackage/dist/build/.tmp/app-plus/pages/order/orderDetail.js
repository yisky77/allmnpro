(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/orderDetail"],{3847:function(e,t,o){},"3d4d":function(e,t,o){"use strict";o.r(t);var n=o("52f1a"),r=o("7884");for(var a in r)"default"!==a&&function(e){o.d(t,e,function(){return r[e]})}(a);o("b8bc");var d=o("2877"),i=Object(d["a"])(r["default"],n["a"],n["b"],!1,null,null,null);t["default"]=i.exports},"52f1a":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},r=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return r})},7884:function(e,t,o){"use strict";o.r(t);var n=o("a2f8"),r=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);t["default"]=r.a},a2f8:function(e,t,o){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(o("454f"));function a(e){return e&&e.__esModule?e:{default:e}}var d={data:function(){return{orderId:0,orderInfo:{},orderGoods:[],expressInfo:{},flag:!1,handleOption:{}}},onLoad:function(e){this.orderId=e.id,this.getOrderDetail()},onPullDownRefresh:function(){this.getOrderDetail(!0)},methods:{gobuy:function(t){e.redirectTo({url:"/pages/product/product?id="+t.goodsId})},gocomment:function(t){console.log(n(t," at pages/order/orderDetail.vue:120")),e.redirectTo({url:"/pages/order/comment?orderId="+t.orderId+"&type="+t.type+"&valueId="+t.goodsId})},expandDetail:function(){this.flag=!this.flag},getOrderDetail:function(t){var o=this;e.showLoading({title:"加载中"});var n="/order/detail?orderId="+this.orderId;r.default.httpget(n).then(function(n){var r=n.data;0==r.errno?(o.orderInfo=r.data.orderInfo,o.orderGoods=r.data.orderGoods,o.handleOption=r.data.orderInfo.handleOption):e.showToast({title:r.errmsg,icon:"none"}),t&&e.stopPullDownRefresh(),e.hideLoading()})},payOrder:function(){var t=this,o="/order/prepay";o="/order/prepayDouyin",r.default.httppost(o,{orderId:t.orderId,code:e.getStorageSync("code")}).then(function(o){if(0===o.data.errno){var r=o.data.data;console.log(n("支付过程开始"," at pages/order/orderDetail.vue:159")),e.requestPayment({timeStamp:r.timeStamp,nonceStr:r.nonceStr,package:r.packageValue,signType:r.signType,paySign:r.paySign,success:function(o){e.showToast({title:"支付成功",icon:"none"}),t.$api.prePage().loadData(0),e.navigateBack()},fail:function(t){e.showToast({title:"支付失败",icon:"none"})}})}else e.showToast({title:o.data.errmsg,icon:"none"})})},cancelOrder:function(){var t=this;e.showModal({title:"",content:"确定要取消此订单？",success:function(o){if(o.confirm){var n="/order/cancel";e.showLoading({title:"正在加载"}),r.default.httppost(n,{orderId:t.orderId}).then(function(o){var n=o.data;0==n.errno?(e.showToast({title:"取消订单成功"}),t.$api.prePage().loadData(0),e.navigateBack()):e.showToast({title:n.errmsg,icon:"none"}),e.hideLoading()})}}})},refundOrder:function(){var t=this;e.showModal({title:"",content:"确定要退款此订单吗？",success:function(o){if(o.confirm){var n="/order/refund";e.showLoading({title:"正在加载"}),r.default.httppost(n,{orderId:t.orderId}).then(function(o){var n=o.data;0==n.errno?(e.showToast({title:"已申请退款中！"}),t.$api.prePage().loadData(0),e.navigateBack()):e.showToast({title:n.errmsg,icon:"none"}),e.hideLoading()})}}})},deleteOrder:function(){var t=this;e.showModal({title:"",content:"确定要删除此订单？",success:function(o){if(o.confirm){var n="/order/delete";e.showLoading({title:"正在加载"}),r.default.httppost(n,{orderId:t.orderId}).then(function(o){var n=o.data;0==n.errno?(e.showToast({title:"删除订单成功"}),t.$api.prePage().loadData(0),e.navigateBack()):e.showToast({title:n.errmsg,icon:"none"}),e.hideLoading()})}}})},confirmOrder:function(){var t=this;e.showModal({title:"",content:"确认收货？",success:function(o){if(o.confirm){var n="/order/confirm";e.showLoading({title:"正在加载"}),r.default.httppost(n,{orderId:t.orderId}).then(function(o){var n=o.data;0==n.errno?(e.showToast({title:"确认收货成功"}),t.$api.prePage().loadData(0),e.navigateBack()):e.showToast({title:n.errmsg,icon:"none"}),e.hideLoading()})}}})}}};t.default=d}).call(this,o("6e42")["default"],o("0de9")["default"])},b8bc:function(e,t,o){"use strict";var n=o("3847"),r=o.n(n);r.a},e43e:function(e,t,o){"use strict";(function(e){o("d82e"),o("921b");n(o("66fd"));var t=n(o("3d4d"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])}},[["e43e","common/runtime","common/vendor"]]]);